(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){sessionStorage.clear();const e=document.getElementById("email"),t=document.getElementById("contra"),n=document.getElementById("btn-login"),o=document.getElementById("btn-contra"),s=document.getElementById("eye-icon");n.addEventListener("click",(async n=>{n.preventDefault(),await async function(){var n={email:e.value,contrasena:t.value};try{const e=await fetch("http://127.0.0.1:8000/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});if(e.ok){const t=(await e.json()).token;sessionStorage.setItem("token",t),window.location.href="html/inicio.html"}else{const e=document.createElement("div");e.classList.add("alert","alert-danger","mt-3"),e.textContent="Credenciales incorrectas. Verifique su correo y contraseÃ±a.";const t=document.querySelector("form");t.insertBefore(e,t.firstChild),setTimeout((()=>{e.remove()}),2e3)}}catch(e){}}()})),o.addEventListener("click",(function(){"password"===t.type?(t.type="text",s.classList.remove("bi-eye-slash-fill"),s.classList.add("bi-eye-fill")):(t.type="password",s.classList.remove("bi-eye-fill"),s.classList.add("bi-eye-slash-fill"))}))}))})();
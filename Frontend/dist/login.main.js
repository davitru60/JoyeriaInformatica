(()=>{"use strict";const e=/^[\w]{2,15}[@]{1}[a-z]{4,}[.]{1}[a-z]{2,3}$/,t=/^[a-zA-Z0-9*#\$]{6,12}$/;document.addEventListener("DOMContentLoaded",(function(){const n=document.getElementById("email"),a=document.getElementById("contra"),s=document.getElementById("btn-login"),i=document.getElementById("btn-contra"),l=document.getElementById("eye-icon"),d=document.getElementById("mensajeEmail"),o=document.getElementById("mensajeContrasena");s.addEventListener("click",(async()=>{await async function(){var e={email:n.value,contrasena:a.value};try{const t=await fetch("http://127.0.0.1:8000/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});if(t.ok){const e=(await t.json()).token;localStorage.setItem("token",e)}else alert("oups i did it again")}catch(e){}}()})),n.addEventListener("input",(function(t){t.preventDefault();var a=n.value;e.test(a)?(n.classList.remove("is-invalid"),n.classList.add("is-valid")):(n.classList.add("is-invalid"),d.textContent="El correo es inválido. Antes del @ tener entre 2 y 15 caracteres teniendo minisculas, mayusculas y _")})),a.addEventListener("input",(function(e){e.preventDefault();var n=a.value;t.test(n)?(a.classList.remove("is-invalid"),a.classList.add("is-valid")):(a.classList.add("is-invalid"),o.textContent="La contraseña es inválida. Debe tener entre 6 y 12 caracteres y contener solo letras, números, *, # o $")})),i.addEventListener("click",(function(){"password"===a.type?(a.type="text",l.classList.remove("bi-eye-slash-fill"),l.classList.add("bi-eye-fill")):(a.type="password",l.classList.remove("bi-eye-fill"),l.classList.add("bi-eye-slash-fill"))}))}))})();